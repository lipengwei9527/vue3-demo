var f=Object.defineProperty;var h=(r,e,t)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var a=(r,e,t)=>h(r,typeof e!="symbol"?e+"":e,t);import{u as p,b as o}from"./vendor-vue-router.DAScLklW.js";async function H(r,e="file"){const t=new FormData;return t.append(e,r),t}function M(r){return new Promise((e,t)=>{const s=r.name.split(".").pop(),n=new FileReader;n.onload=i=>{const u=new Uint8Array(i.target.result).reduce((l,d)=>l+String.fromCharCode(d),""),c=btoa(u);e({state:"success",ext:s,base64:c})},n.onerror=i=>{t({state:"fail",message:i})},n.readAsArrayBuffer(r)})}function P(r){return new Promise((e,t)=>{const s=new FileReader;s.onloadend=()=>{const n=s.result;e({state:"success",binary:n})},s.onerror=n=>{t({state:"fail",message:n})},s.readAsArrayBuffer(r)})}const m="/vue3-demo/",b=m.slice(0,-1)+"/#";class R{constructor(){a(this,"router");a(this,"route");this.router=p(),this.route=o()}navigateTo(e){this.router.push(e)}goBack(){this.router.back()}refresh(){}}class B{constructor(e){a(this,"tabName");a(this,"route");this.tabName=e,this.route=o()}openTab(e){e.path.startsWith("/")&&(e.path=e.path+g(e.params||{}),e.path=b+e.path),window.open(e.path,this.tabName)}getParams(){return console.log("window.location,csRouter",window.location,this.route),Object.assign(this.route.params,this.route.query)}closeTab(){window.close()}}function g(r){if(!Object.keys(r).length)return"";let e=[],t="";for(const s in r)e.push(`${s}=${r[s]}`);return t=e.join("&"),t&&"?"+t}function C(r,e=1e3,t=!1){let s;return function(...n){if(!s){if(!t)return r.apply(this,n);s=setTimeout(()=>{clearTimeout(s),s=void 0,t&&r.apply(this,n)},e)}}}function w(r){return r.map(t=>({index:t.name,title:t.labelName,isHidden:t.isHidden||!1,children:t.children?w(t.children):[]}))}function F(r){return r.filter(e=>!e.isHidden).map(e=>({index:e.index,title:e.title,isHidden:e.isHidden}))}function y(r,e){let t;return e&&(t=r.find(n=>n.index===e),r=(t==null?void 0:t.children)||[]),r.filter(n=>!n.isHidden).map(n=>({index:n.index,title:n.title,isHidden:n.isHidden,children:n.children?y(n.children):[]}))}export{B as C,M as a,P as b,F as c,y as d,R as e,H as f,w as g,C as t};
//# sourceMappingURL=utils.DF4mh0dc.js.map
