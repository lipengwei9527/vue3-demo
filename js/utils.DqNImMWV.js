var h=Object.defineProperty;var p=(r,e,t)=>e in r?h(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var i=(r,e,t)=>p(r,typeof e!="symbol"?e+"":e,t);import{u as g,b as o}from"./vendor-vue-router.DAScLklW.js";async function M(r,e="file"){const t=new FormData;return t.append(e,r),t}function P(r){return new Promise((e,t)=>{const s=r.name.split(".").pop(),n=new FileReader;n.onload=a=>{const c=new Uint8Array(a.target.result).reduce((d,f)=>d+String.fromCharCode(f),""),l=btoa(c);e({state:"success",ext:s,base64:l})},n.onerror=a=>{t({state:"fail",message:a})},n.readAsArrayBuffer(r)})}function R(r){return new Promise((e,t)=>{const s=new FileReader;s.onloadend=()=>{const n=s.result;e({state:"success",binary:n})},s.onerror=n=>{t({state:"fail",message:n})},s.readAsArrayBuffer(r)})}const m="/vue3-demo/",b=u(m)+"/#";class B{constructor(){i(this,"router");i(this,"route");this.router=g(),this.route=o()}navigateTo(e){this.router.push(e)}goBack(){this.router.back()}refresh(){}}class C{constructor(e){i(this,"tabName");i(this,"route");this.tabName=e,this.route=o()}openTab(e){typeof e.path=="string"&&(e.path=u(e.path)),e.path=e.path+w(e.params||{}),e.path=b+e.path,window.open(e.path,this.tabName)}getParams(){return console.log("window.location,csRouter",window.location,this.route),Object.assign(this.route.params,this.route.query)}closeTab(){window.close()}}function w(r){if(!Object.keys(r).length)return"";let e=[],t="";for(const s in r)e.push(`${s}=${r[s]}`);return t=e.join("&"),t&&"?"+t}function u(r){return!r||r=="/"?"":(r.startsWith("/")||(r="/"+r),r.startsWith("/http")&&(r=r.slice(1)),r.endsWith("/")&&(r=r.slice(0,-1)),r)}function F(r,e=1e3,t=!1){let s;return function(...n){if(!s){if(!t)return r.apply(this,n);s=setTimeout(()=>{clearTimeout(s),s=void 0,t&&r.apply(this,n)},e)}}}function y(r){return r.map(t=>({index:t.name,title:t.labelName,isHidden:t.isHidden||!1,children:t.children?y(t.children):[]}))}function N(r){return r.filter(e=>!e.isHidden).map(e=>({index:e.index,title:e.title,isHidden:e.isHidden}))}function T(r,e){let t;return e&&(t=r.find(n=>n.index===e),r=(t==null?void 0:t.children)||[]),r.filter(n=>!n.isHidden).map(n=>({index:n.index,title:n.title,isHidden:n.isHidden,children:n.children?T(n.children):[]}))}export{C,P as a,R as b,N as c,T as d,B as e,M as f,y as g,F as t};
//# sourceMappingURL=utils.DqNImMWV.js.map
