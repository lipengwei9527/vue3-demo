{"version":3,"file":"store.DThabKoL.js","sources":["../../src/store/index.ts","../../src/store/app.ts"],"sourcesContent":["import { createPinia } from \"pinia\";\r\n// import persistPlugin from \"@/store/plugin/persistPlugin\";\r\nconst pinia = createPinia();\r\n/**\r\n * @description 仓库数据持久化插件\r\n * @example 去除持久化先注释掉插件，在删除本地存储数据\r\n */\r\n// pinia.use(persistPlugin);\r\nexport default pinia;\r\n","import { defineStore } from \"pinia\";\r\nimport { getAllMenus, getTopMenus, getSIdeMenus } from \"@/utils/menus\";\r\nimport type { AppState } from \"@/types/store\";\r\nimport type { CustomRouteRecordRaw } from \"@/types/router\";\r\nimport router from \"@/router\";\r\nconst routes = router.options.routes as CustomRouteRecordRaw[];\r\nconst allMenus = getAllMenus(routes[0].children || []);\r\nconst topMenus = getTopMenus(allMenus);\r\nconst sideMenus = getSIdeMenus(allMenus, topMenus[0]?.index);\r\nexport const useAppStore = defineStore(\"app\", {\r\n  state: (): AppState => ({\r\n    num: {\r\n      a: 1,\r\n    },\r\n    allMenus,\r\n    currentMenu: {},\r\n    topMenus: {\r\n      activeIndex: topMenus[0]?.index,\r\n      openedMenus: [],\r\n      menus: topMenus,\r\n    },\r\n    sideMenus: {\r\n      activeIndex: sideMenus[0]?.index,\r\n      openedMenus: [sideMenus[0]?.index],\r\n      menus: sideMenus,\r\n    },\r\n  }),\r\n  actions: {\r\n    setTopActiveIndex(index: string) {\r\n      this.topMenus.activeIndex = index;\r\n    },\r\n    setSideActiveIndex(index: string) {\r\n      this.sideMenus.activeIndex = index;\r\n    },\r\n    setSideMenus(index: string) {\r\n      const sideMenus = getSIdeMenus(allMenus, index);\r\n      this.sideMenus.openedMenus = [sideMenus[0]?.index];\r\n      this.sideMenus.menus = sideMenus;\r\n    },\r\n  },\r\n});\r\n"],"names":["pinia","createPinia","routes","router","allMenus","getAllMenus","topMenus","getTopMenus","sideMenus","getSIdeMenus","_a","useAppStore","defineStore","_b","_c","index"],"mappings":"gJAEA,MAAMA,EAAQC,EAAY,ECGpBC,EAASC,EAAO,QAAQ,OACxBC,EAAWC,EAAYH,EAAO,CAAC,EAAE,UAAY,CAAA,CAAE,EAC/CI,EAAWC,EAAYH,CAAQ,QACrC,MAAMI,EAAYC,EAAaL,GAAUM,EAAAJ,EAAS,CAAC,IAAV,YAAAI,EAAa,KAAK,EAC9CC,EAAcC,EAAY,MAAO,CAC5C,MAAO,IAAiB,WAAA,OACtB,IAAK,CACH,EAAG,CACL,EACA,SAAAR,EACA,YAAa,CAAC,EACd,SAAU,CACR,aAAaM,EAAAJ,EAAS,CAAC,IAAV,YAAAI,EAAa,MAC1B,YAAa,CAAC,EACd,MAAOJ,CACT,EACA,UAAW,CACT,aAAaO,EAAAL,EAAU,CAAC,IAAX,YAAAK,EAAc,MAC3B,YAAa,EAACC,EAAAN,EAAU,CAAC,IAAX,YAAAM,EAAc,KAAK,EACjC,MAAON,CACT,CAAA,GAEF,QAAS,CACP,kBAAkBO,EAAe,CAC/B,KAAK,SAAS,YAAcA,CAC9B,EACA,mBAAmBA,EAAe,CAChC,KAAK,UAAU,YAAcA,CAC/B,EACA,aAAaA,EAAe,OACpBP,MAAAA,EAAYC,EAAaL,EAAUW,CAAK,EAC9C,KAAK,UAAU,YAAc,EAACP,EAAAA,EAAU,CAAC,IAAXA,YAAAA,EAAc,KAAK,EACjD,KAAK,UAAU,MAAQA,CACzB,CACF,CACF,CAAC"}