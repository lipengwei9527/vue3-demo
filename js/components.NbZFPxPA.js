import{a as B,b as X,c as ne,d as oe,e as ae,f as le,g as se,h as J,i as de,j as ue,k as ie,v as re,l as ce}from"./vendor-element-plus.DGd9-5Lt.js";import{h as P}from"./vendor-moment.C5S46NFB.js";import{u as I}from"./vendor-@vueuse.DAAQwMeU.js";import{c as _e,C as pe}from"./utils.BtKnTzZW.js";import{d as m,e as ye,f as A,o as n,g as _,h as E,a as g,w as v,t as M,u as f,F as k,i as S,j as D,n as K,k as L,l as j,m as fe,p as Q,c as w,T as me,q as ge,s as q,v as ve,x as he,y as W,z as be,A as xe,B as Ce,r as Ee,C as R,D as $e}from"./vendor-@vue.iaL7E5-3.js";import{_ as F}from"./index.Bxsve5J7.js";import{u as ke,a as Ve}from"./hooks.inIqdS7Z.js";const Se=42;function Y(o,r=0){o=P(o).subtract(r,"month").format("YYYY-MM");const c=P(o).startOf("month"),u=P(o).endOf("month").diff(c,"days")+1;let i=new Date(o).getDay();return i===0&&(i=7),{date:o,days:u,firstDayOfMonth:i}}function De(o){let r=new Date(o||new Date),c=Y(r,1),s=Y(r),u=Y(r,-1),i=[];for(let t=s.firstDayOfMonth;t>1;t--){let e=N();e.day=c.days-t+2,e.date=c.date+"-"+(e.day<10?"0"+e.day:e.day),e.type="pre",i.push(e)}for(let t=0;t<s.days;t++){let e=N();e.day=t+1,e.date=s.date+"-"+(e.day<10?"0"+e.day:e.day),e.type="cur",i.push(e)}for(let t=1;t<Se-s.days-s.firstDayOfMonth+2;t++){let e=N();e.day=t,e.date=u.date+"-"+(e.day<10?"0"+e.day:e.day),e.type="next",i.push(e)}return i}function N(){return{day:0,date:"",type:"",disabled:!1}}const we={class:"ex-calendar"},Me={class:"calendar-head"},Te={class:"ex-calendar-table"},ze={class:"week-item"},Fe=["onClick"],Oe={key:0},Ie=m({name:"ExCalendar"}),Pe=m({...Ie,props:{modelValue:{type:[Date,String],default:()=>new Date},startTime:{type:[String,Date],default:""},banTime:{type:Array,default:()=>[]},endTime:{type:[String,Date],default:""}},emits:["select","update:modelValue"],setup(o,{emit:r}){const c=ye(),s=o,u=r;let i=I(s,"modelValue",u);const t=["一","二","三","四","五","六","日"],e=A([]);let h=A([]);const C=d=>({"calendar-item":!0,"pre-month":d.type=="pre","next-month":d.type=="next",allow:!T(d),ban:T(d),selected:O(d)}),l=d=>{const p=[];let a=[];return d.forEach((y,x)=>{a.push(y),(x+1)%7==0&&(p.push(a),a=[])}),p},$=(d=0,p="month")=>{const a=_e(P(i.value).subtract(d,p).toString(),"YYYY-MM");i.value=a,h.length=0,h.push(...l(De(a)))};$();const T=d=>{let p=new Date(d.date).getTime(),a=new Date(s.startTime).getTime(),y=new Date(s.endTime).getTime(),x=s.banTime.find(z=>new Date(z).getTime()==p);return p<=a||p>=y||x?(d.disabled=!0,!0):!1},O=d=>!!e.find(p=>p.date==d.date),b=d=>{if(console.log("output-selectDayFn>"),!(!d||d.disabled)){if(e.length!=0&&e.find(p=>p.date==d.date)){e.length=0;return}e.length=0,e.push(d),u("select",e)}};return(d,p)=>{const a=B;return n(),_("div",we,[E("div",null,[g(a,{type:"primary",onClick:p[0]||(p[0]=y=>$(1))},{default:v(()=>p[2]||(p[2]=[D("上月")])),_:1}),g(a,{type:"primary",onClick:p[1]||(p[1]=y=>$(-1))},{default:v(()=>p[3]||(p[3]=[D("下月")])),_:1})]),E("div",Me,M(f(i)),1),E("table",Te,[E("thead",null,[(n(),_(k,null,S(t,y=>E("th",ze,M(y),1)),64))]),E("tbody",null,[(n(!0),_(k,null,S(f(h),y=>(n(),_("tr",null,[(n(!0),_(k,null,S(y,x=>(n(),_("td",null,[E("div",{class:K(C(x)),onClick:z=>b(x)},[Object.keys(f(c)).length==0?(n(),_("div",Oe,M(x.day),1)):L(d.$slots,"default",{key:1,data:x},void 0,!0)],10,Fe)]))),256))]))),256))])])])}}}),Ae=F(Pe,[["__scopeId","data-v-c6b4e41f"]]),Be=["onClick"],je=m({name:"ExContextMenu"}),Ye=m({...je,props:{menu:{type:Array,default:()=>[]}},emits:["select"],setup(o,{emit:r}){const{vw:c,vh:s}=Ve(),u=j(),{x:i,y:t,showMenu:e}=ke(u),h=r,C=j(0),l=j(0);function $(a){const{width:y,height:x}=a;C.value=y,l.value=x}const T=fe(()=>{let a=i.value,y=t.value;return a>c.value-C.value&&(a-=C.value),s.value-y<l.value&&(y=s.value-l.value),{posX:a,posY:y}});function O(a){e.value=!1,h("select",a)}function b(a){a instanceof HTMLElement&&(a.style.height="0")}function d(a){if(!(a instanceof HTMLElement))return;a.style.height="auto";const y=a.clientHeight;a.style.height="0",requestAnimationFrame(()=>{a.style.height=y+"px",a.style.transition="0.5s"})}function p(a){a.style.transition="none"}return(a,y)=>{const x=Q("size-ob");return n(),_("div",{ref_key:"containerRef",ref:u,class:"ex-context-menu"},[L(a.$slots,"default",{},void 0,!0),(n(),w(ge,{to:"body"},[g(me,{onBeforeEnter:b,onEnter:d,onAfterEnter:p},{default:v(()=>[E("div",null,[f(e)?q((n(),_("div",{key:0,class:"menu-list",style:ve({left:T.value.posX+"px",top:T.value.posY+"px"})},[(n(!0),_(k,null,S(o.menu,z=>(n(),_("div",{class:"menu-item",onClick:U=>O(z)},M(z.label),9,Be))),256))],4)),[[x,$]]):he("",!0)])]),_:1})]))],512)}}}),Ne=F(Ye,[["__scopeId","data-v-e6698d90"]]),qe={class:"ex-create-form"},Le=m({name:"ExCreateForm"}),Ue=m({...Le,setup(o){const r=new pe("formConfig"),c=r.getParams();console.log("output->params",c);const s=()=>{const i=r.getParams();console.log("output->p",i)},u=()=>{r.closeTab()};return(i,t)=>{const e=B;return n(),_("div",qe,[g(e,{onClick:s},{default:v(()=>t[0]||(t[0]=[D("获取参数")])),_:1}),g(e,{onClick:u},{default:v(()=>t[1]||(t[1]=[D("关闭页面")])),_:1})])}}}),He=F(Ue,[["__scopeId","data-v-4c13e510"]]),Re={},Ge={class:"ex-button-group"};function Xe(o,r){return n(),_("div",Ge)}const Je=F(Re,[["render",Xe]]),Ke={class:"ex-input"},Qe=m({name:"ExInput"}),We=m({...Qe,props:{modelValue:{type:[String,Number],default:""},config:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(o,{emit:r}){const u=I(o,"modelValue",r);return(i,t)=>{const e=X;return n(),_("div",Ke,[g(e,{modelValue:f(u),"onUpdate:modelValue":t[0]||(t[0]=h=>W(u)?u.value=h:null)},null,8,["modelValue"])])}}}),Ze={class:"ex-select"},et=m({name:"ExSelect"}),tt=m({...et,props:{modelValue:{type:[String,Number,Boolean,Object,Array],default:""},config:{type:Object,default:()=>({})}},emits:["update:modelValue","update:config"],setup(o,{emit:r}){const c=r,s=o,u=I(s,"modelValue",c),i=I(s,"config",c);return(t,e)=>{const h=oe,C=ne;return n(),_("div",Ze,[g(C,{modelValue:f(u),"onUpdate:modelValue":e[0]||(e[0]=l=>W(u)?u.value=l:null)},{default:v(()=>[(n(!0),_(k,null,S(f(i).options,l=>(n(),w(h,{key:l.value,label:l.label,value:l.value,disabled:l.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])])}}}),G={formName:"exampleForm",id:"123",schema:"create",formConfig:[{id:"1",name:"ex-input",type:"input",label:"姓名",field:"name",defaultValue:"li",disabled:!1,rules:[]},{idL:"2",name:"ex-input",type:"input",label:"年龄",field:"age",defaultValue:18,disabled:!1,rules:[]},{id:"3",name:"ex-select",type:"select",label:"职位",field:"job",defaultValue:"1",fullLine:!0,options:[{label:"员工1",value:"1",disabled:!0},{label:"员工2",value:"2"},{label:"员工3",value:"3"}],disabled:!1,rules:[]}]},nt={class:"ex-form"},ot={class:"ex-form-btn"},at=m({name:"ExForm"}),lt=m({...at,setup(o){const r=A(G.formConfig),c=A(G.formConfig.reduce((i,t)=>(i[t.field]=t.defaultValue,i),{})),s=i=>{console.log("output->change",i)},u=()=>{console.log("output->提交",c)};return(i,t)=>{const e=le,h=ae,C=B;return n(),_("div",nt,[g(h,{class:"form-container",onSubmit:be(u,["prevent"])},{default:v(()=>[(n(!0),_(k,null,S(r,l=>(n(),w(e,{prop:l.id,rules:l.rules,class:K(["ex-form-item",{"full-line":l.fullLine}]),label:`${l.label}:`},{default:v(()=>[(n(),w(xe(l.name),Ce({class:"ex-form-content",modelValue:c[l.field],"onUpdate:modelValue":$=>c[l.field]=$,ref_for:!0},{config:l},{onChange:t[0]||(t[0]=$=>s($))}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["prop","rules","class","label"]))),256))]),_:1}),E("div",ot,[g(C,{onClick:u,type:"primary"},{default:v(()=>t[1]||(t[1]=[D("提交")])),_:1})])])}}}),st=F(lt,[["__scopeId","data-v-fb16d20d"]]),dt={class:"ex-sub-menu"},ut=m({name:"ExSubMenu"}),it=m({...ut,props:{data:{type:Object,default:()=>({})}},setup(o){return(r,c)=>{const s=Ee("ExSubMenu",!0),u=J,i=se;return n(),_("div",dt,[g(i,{index:o.data.index},{title:v(()=>[D(M(o.data.title),1)]),default:v(()=>[(n(!0),_(k,null,S(o.data.children,t=>(n(),_(k,{key:t.index+t.title},[t.children&&Array.isArray(t.children)&&t.children.length!=0?(n(),w(s,{key:0,data:t},null,8,["data"])):(n(),w(u,{key:1,index:t.index},{default:v(()=>[D(M(t.title),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["index"])])}}}),rt={class:"ex-menu"},ct=m({name:"ExMenu"}),_t=m({...ct,props:{data:{type:Array,required:!0,default:()=>[]},defaultActive:{type:String,default:""},defaultOpeneds:{type:Array,default:()=>[]},mode:{type:String},collapse:{type:Boolean,default:!1}},emits:["select","open","close"],setup(o,{emit:r}){const c=r,s=(t,e)=>{c("select",t,e)},u=(t,e)=>{c("open",t,e)},i=(t,e)=>{c("close",t,e)};return(t,e)=>{const h=J,C=de;return n(),_("div",rt,[g(C,{"default-openeds":o.defaultOpeneds,"default-active":o.defaultActive,collapse:o.collapse,mode:o.mode,"unique-opened":!0,onSelect:s,onOpen:u,onClose:i},{default:v(()=>[(n(!0),_(k,null,S(o.data,l=>(n(),_(k,{key:l.index+l.title},[l.children&&l.children.length!=0?(n(),w(it,{key:0,data:l},null,8,["data"])):(n(),w(h,{key:1,index:l.index},{default:v(()=>[D(M(l.title),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-openeds","default-active","collapse","mode"])])}}}),pt=F(_t,[["__scopeId","data-v-9da5f228"]]),yt=[{dyn_id:"981118307352444930",dyn_type:8},{dyn_id:"981099233446723617",dyn_type:8},{dyn_id:"980962374298107942",dyn_type:8},{dyn_id:"980962370015723573",dyn_type:8},{dyn_id:"980948226680029184",dyn_type:8},{dyn_id:"980731777499791478",dyn_type:8},{dyn_id:"980699552380092432",dyn_type:8},{dyn_id:"980686658843181057",dyn_type:8},{dyn_id:"980685542413828200",dyn_type:8},{dyn_id:"980680190643404882",dyn_type:8},{dyn_id:"980591551144001541",dyn_type:8},{dyn_id:"980591289127927816",dyn_type:8},{dyn_id:"980591284853932066",dyn_type:8},{dyn_id:"980220203962990627",dyn_type:8},{dyn_id:"980220199672217632",dyn_type:8},{dyn_id:"979478033604804662",dyn_type:8},{dyn_id:"979478033601658897",dyn_type:8},{dyn_id:"979463916016893989",dyn_type:8},{dyn_id:"979448505697304598",dyn_type:8},{dyn_id:"979268666852900901",dyn_type:8},{dyn_id:"979264853131657234",dyn_type:8},{dyn_id:"979255137683898408",dyn_type:8},{dyn_id:"979235638539714577",dyn_type:8},{dyn_id:"979200784894787617",dyn_type:8},{dyn_id:"979193328822124665",dyn_type:8},{dyn_id:"979106952691843081",dyn_type:8},{dyn_id:"979106948400021509",dyn_type:8},{dyn_id:"979100523169841158",dyn_type:8},{dyn_id:"978830094859501573",dyn_type:8},{dyn_id:"978814504087322675",dyn_type:8},{dyn_id:"978737323772477506",dyn_type:8},{dyn_id:"978735863223549991",dyn_type:8},{dyn_id:"978735858985205816",dyn_type:8},{dyn_id:"978721711350349860",dyn_type:8},{dyn_id:"978458893704232965",dyn_type:8},{dyn_id:"978364778091118614",dyn_type:8},{dyn_id:"978364773766791203",dyn_type:8}],Z={query:{},tableData:yt,showIndex:!0,showSelection:!0,currentPage:1,pageSize:10,height:200,api:"",loading:!1,showOverflowTooltip:!0,colSlots:["dyn_id"],columns:[{prop:"dyn_id",label:"a表头"},{prop:"dyn_type",label:"b表头"}],total:1e3,background:!0,pageSizes:[10,20,30,40,50,100],layout:"total,prev, pager, next,layout,sizes"},ft=o=>({...Z,...o}),zt=()=>({...Z}),mt={class:"ex-table"},gt={class:"search-comps"},vt={class:"search-btn"},ht={class:"table-container",ref:"tableContainer"},bt={key:1},xt={class:"pagination-container"},Ct=m({name:"ExTable"}),Et=m({...Ct,props:{modelValue:{type:Object,default:()=>ft()}},emits:["update:modelValue"],setup(o,{expose:r,emit:c}){const s=R("table"),u=R("pagination");r({table:s,pagination:u});const e=I(o,"modelValue",c);$e(()=>{});const h=b=>{e.value.height=b.height},C=()=>{l(1)},l=async(b,d)=>{if(console.log("output->获取表格数据"),!e.value.loading){e.value.loading=!0,e.value.currentPage=b||e.value.currentPage,e.value.pageSize=d||e.value.pageSize;try{}catch(p){console.log("请求表格数据失败",p)}finally{e.value.loading=!1}}},$=b=>{l(b)},T=b=>{l(1,b)},O=b=>b+1+(e.value.currentPage-1)*e.value.pageSize;return(b,d)=>{const p=X,a=B,y=ce,x=ue,z=ie,U=Q("size-ob"),ee=re;return q((n(),_("div",mt,[E("div",gt,[g(p,{modelValue:f(e).query,"onUpdate:modelValue":d[0]||(d[0]=V=>f(e).query=V)},null,8,["modelValue"])]),E("div",vt,[g(a,{type:"primary",onClick:C},{default:v(()=>d[2]||(d[2]=[D("搜索")])),_:1})]),q((n(),_("div",ht,[g(x,{data:f(e).tableData,ref_key:"table",ref:s,height:f(e).height},{default:v(()=>[g(y,{type:"selection"}),g(y,{type:"index",label:"序号",width:"60",index:O}),(n(!0),_(k,null,S(f(e).columns,(V,te)=>(n(),w(y,{key:te,prop:V.prop,label:V.label,"show-overflow-tooltip":f(e).showOverflowTooltip},{default:v(({row:H})=>[f(e).colSlots.includes(V.prop)?L(b.$slots,V.prop,{key:0,row:H},void 0,!0):(n(),_("div",bt,M(H[V.prop]),1))]),_:2},1032,["prop","label","show-overflow-tooltip"]))),128))]),_:3},8,["data","height"])])),[[U,h]]),E("div",xt,[g(z,{ref_key:"pagination",ref:u,total:f(e).total,background:f(e).background,layout:f(e).layout,"current-page":f(e).currentPage,"page-size":f(e).pageSize,"onUpdate:pageSize":[d[1]||(d[1]=V=>f(e).pageSize=V),T],"onUpdate:currentPage":$,"page-sizes":f(e).pageSizes},null,8,["total","background","layout","current-page","page-size","page-sizes"])])])),[[ee,f(e).loading]])}}}),$t=F(Et,[["__scopeId","data-v-bbee21af"]]);function Ft(o){const r=Object.assign({"./ExCalendar/index.vue":Ae,"./ExContextMenu/index.vue":Ne,"./ExCreateForm/index.vue":He,"./ExForm/components/ExButtonGroup/index.vue":Je,"./ExForm/components/ExInput/index.vue":We,"./ExForm/components/ExSelect/index.vue":tt,"./ExForm/index.vue":st,"./ExMenu/index.vue":pt,"./ExTable/index.vue":$t});Object.keys(r).map(c=>{const s=c.split("/"),u=s[s.length-2];o.component(u,r[c])})}export{pt as _,Ne as a,He as b,$t as c,zt as g,Ft as s};
//# sourceMappingURL=components.NbZFPxPA.js.map
