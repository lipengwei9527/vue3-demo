import{d as p,e as I,f as W,g as R,o,h as u,i as H,c as E,a as y,w as m,T as Z,j as ee,k as F,u as c,l as B,n as te,F as C,m as $,p as ne,t as M,q as S,s as G,v as q,x as oe,y as ae,z as le,A as se,r as de,B as L,C as ue}from"./vendor-@vue.mZTcCRep.js";import{u as ie,a as re}from"./hooks.DOjosAv_.js";import{_ as k}from"./index.Dszy2f95.js";import{a as j,b as X,c as ce,d as _e,e as pe,f as ye,g as me,h as Y,i as fe,j as ge,k as ve,v as be,l as xe}from"./vendor-element-plus.j3rGXU09.js";import{C as he}from"./utils.Dq103Kxm.js";import{u as O}from"./vendor-@vueuse.KDKvyxFW.js";const Ee=["onClick"],Ce=p({name:"ExContextMenu"}),Ve=p({...Ce,props:{menu:{type:Array,default:()=>[]}},emits:["select"],setup(a,{emit:i}){const{vw:d,vh:r}=re(),l=I(),{x:_,y:t,showMenu:e}=ie(l),v=i,b=I(0),n=I(0);function V(s){const{width:g,height:w}=s;b.value=g,n.value=w}const T=W(()=>{let s=_.value,g=t.value;return s>d.value-b.value&&(s-=b.value),r.value-g<n.value&&(g=r.value-n.value),{posX:s,posY:g}});function A(s){e.value=!1,v("select",s)}function f(s){s instanceof HTMLElement&&(s.style.height="0")}function x(s){if(!(s instanceof HTMLElement))return;s.style.height="auto";const g=s.clientHeight;s.style.height="0",requestAnimationFrame(()=>{s.style.height=g+"px",s.style.transition="0.5s"})}function z(s){s.style.transition="none"}return(s,g)=>{const w=R("size-ob");return o(),u("div",{ref_key:"containerRef",ref:l,class:"ex-context-menu"},[H(s.$slots,"default",{},void 0,!0),(o(),E(ee,{to:"body"},[y(Z,{onBeforeEnter:f,onEnter:x,onAfterEnter:z},{default:m(()=>[F("div",null,[c(e)?B((o(),u("div",{key:0,class:"menu-list",style:te({left:T.value.posX+"px",top:T.value.posY+"px"})},[(o(!0),u(C,null,$(a.menu,P=>(o(),u("div",{class:"menu-item",onClick:D=>A(P)},M(P.label),9,Ee))),256))],4)),[[w,V]]):ne("",!0)])]),_:1})]))],512)}}}),Se=k(Ve,[["__scopeId","data-v-e6698d90"]]),$e={class:"ex-create-form"},ke=p({name:"ExCreateForm"}),ze=p({...ke,setup(a){const i=new he("formConfig"),d=i.getParams();console.log("output->params",d);const r=()=>{const _=i.getParams();console.log("output->p",_)},l=()=>{i.closeTab()};return(_,t)=>{const e=j;return o(),u("div",$e,[y(e,{onClick:r},{default:m(()=>t[0]||(t[0]=[S("获取参数")])),_:1}),y(e,{onClick:l},{default:m(()=>t[1]||(t[1]=[S("关闭页面")])),_:1})])}}}),we=k(ze,[["__scopeId","data-v-4c13e510"]]),Fe={},Me={class:"ex-button-group"};function Te(a,i){return o(),u("div",Me)}const Pe=k(Fe,[["render",Te]]),Oe={class:"ex-input"},Ae=p({name:"ExInput"}),Ie=p({...Ae,props:{modelValue:{type:[String,Number],default:""},config:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(a,{emit:i}){const l=O(a,"modelValue",i);return(_,t)=>{const e=X;return o(),u("div",Oe,[y(e,{modelValue:c(l),"onUpdate:modelValue":t[0]||(t[0]=v=>G(l)?l.value=v:null)},null,8,["modelValue"])])}}}),Be={class:"ex-select"},je=p({name:"ExSelect"}),De=p({...je,props:{modelValue:{type:[String,Number,Boolean,Object,Array],default:""},config:{type:Object,default:()=>({})}},emits:["update:modelValue","update:config"],setup(a,{emit:i}){const d=i,r=a,l=O(r,"modelValue",d),_=O(r,"config",d);return(t,e)=>{const v=_e,b=ce;return o(),u("div",Be,[y(b,{modelValue:c(l),"onUpdate:modelValue":e[0]||(e[0]=n=>G(l)?l.value=n:null)},{default:m(()=>[(o(!0),u(C,null,$(c(_).options,n=>(o(),E(v,{key:n.value,label:n.label,value:n.value,disabled:n.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])])}}}),U={formName:"exampleForm",id:"123",schema:"create",formConfig:[{id:"1",name:"ex-input",type:"input",label:"姓名",field:"name",defaultValue:"li",disabled:!1,rules:[]},{idL:"2",name:"ex-input",type:"input",label:"年龄",field:"age",defaultValue:18,disabled:!1,rules:[]},{id:"3",name:"ex-select",type:"select",label:"职位",field:"job",defaultValue:"1",fullLine:!0,options:[{label:"员工1",value:"1",disabled:!0},{label:"员工2",value:"2"},{label:"员工3",value:"3"}],disabled:!1,rules:[]}]},Ne={class:"ex-form"},qe={class:"ex-form-btn"},Le=p({name:"ExForm"}),Ue=p({...Le,setup(a){const i=q(U.formConfig),d=q(U.formConfig.reduce((_,t)=>(_[t.field]=t.defaultValue,_),{})),r=_=>{console.log("output->change",_)},l=()=>{console.log("output->提交",d)};return(_,t)=>{const e=ye,v=pe,b=j;return o(),u("div",Ne,[y(v,{class:"form-container",onSubmit:oe(l,["prevent"])},{default:m(()=>[(o(!0),u(C,null,$(i,n=>(o(),E(e,{prop:n.id,rules:n.rules,class:ae(["ex-form-item",{"full-line":n.fullLine}]),label:`${n.label}:`},{default:m(()=>[(o(),E(le(n.name),se({class:"ex-form-content",modelValue:d[n.field],"onUpdate:modelValue":V=>d[n.field]=V,ref_for:!0},{config:n},{onChange:t[0]||(t[0]=V=>r(V))}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["prop","rules","class","label"]))),256))]),_:1}),F("div",qe,[y(b,{onClick:l,type:"primary"},{default:m(()=>t[1]||(t[1]=[S("提交")])),_:1})])])}}}),Re=k(Ue,[["__scopeId","data-v-fb16d20d"]]),He={class:"ex-sub-menu"},Ge=p({name:"ExSubMenu"}),Xe=p({...Ge,props:{data:{type:Object,default:()=>({})}},setup(a){return(i,d)=>{const r=de("ExSubMenu",!0),l=Y,_=me;return o(),u("div",He,[y(_,{index:a.data.index},{title:m(()=>[S(M(a.data.title),1)]),default:m(()=>[(o(!0),u(C,null,$(a.data.children,t=>(o(),u(C,{key:t.index+t.title},[t.children&&Array.isArray(t.children)&&t.children.length!=0?(o(),E(r,{key:0,data:t},null,8,["data"])):(o(),E(l,{key:1,index:t.index},{default:m(()=>[S(M(t.title),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["index"])])}}}),Ye={class:"ex-menu"},Je=p({name:"ExMenu"}),Ke=p({...Je,props:{data:{type:Array,required:!0,default:()=>[]},defaultActive:{type:String,default:""},defaultOpeneds:{type:Array,default:()=>[]},mode:{type:String},collapse:{type:Boolean,default:!1}},emits:["select","open","close"],setup(a,{emit:i}){const d=i,r=(t,e)=>{d("select",t,e)},l=(t,e)=>{d("open",t,e)},_=(t,e)=>{d("close",t,e)};return(t,e)=>{const v=Y,b=fe;return o(),u("div",Ye,[y(b,{"default-openeds":a.defaultOpeneds,"default-active":a.defaultActive,collapse:a.collapse,mode:a.mode,"unique-opened":!0,onSelect:r,onOpen:l,onClose:_},{default:m(()=>[(o(!0),u(C,null,$(a.data,n=>(o(),u(C,{key:n.index+n.title},[n.children&&n.children.length!=0?(o(),E(Xe,{key:0,data:n},null,8,["data"])):(o(),E(v,{key:1,index:n.index},{default:m(()=>[S(M(n.title),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-openeds","default-active","collapse","mode"])])}}}),Qe=k(Ke,[["__scopeId","data-v-9da5f228"]]),We=[{dyn_id:"981118307352444930",dyn_type:8},{dyn_id:"981099233446723617",dyn_type:8},{dyn_id:"980962374298107942",dyn_type:8},{dyn_id:"980962370015723573",dyn_type:8},{dyn_id:"980948226680029184",dyn_type:8},{dyn_id:"980731777499791478",dyn_type:8},{dyn_id:"980699552380092432",dyn_type:8},{dyn_id:"980686658843181057",dyn_type:8},{dyn_id:"980685542413828200",dyn_type:8},{dyn_id:"980680190643404882",dyn_type:8},{dyn_id:"980591551144001541",dyn_type:8},{dyn_id:"980591289127927816",dyn_type:8},{dyn_id:"980591284853932066",dyn_type:8},{dyn_id:"980220203962990627",dyn_type:8},{dyn_id:"980220199672217632",dyn_type:8},{dyn_id:"979478033604804662",dyn_type:8},{dyn_id:"979478033601658897",dyn_type:8},{dyn_id:"979463916016893989",dyn_type:8},{dyn_id:"979448505697304598",dyn_type:8},{dyn_id:"979268666852900901",dyn_type:8},{dyn_id:"979264853131657234",dyn_type:8},{dyn_id:"979255137683898408",dyn_type:8},{dyn_id:"979235638539714577",dyn_type:8},{dyn_id:"979200784894787617",dyn_type:8},{dyn_id:"979193328822124665",dyn_type:8},{dyn_id:"979106952691843081",dyn_type:8},{dyn_id:"979106948400021509",dyn_type:8},{dyn_id:"979100523169841158",dyn_type:8},{dyn_id:"978830094859501573",dyn_type:8},{dyn_id:"978814504087322675",dyn_type:8},{dyn_id:"978737323772477506",dyn_type:8},{dyn_id:"978735863223549991",dyn_type:8},{dyn_id:"978735858985205816",dyn_type:8},{dyn_id:"978721711350349860",dyn_type:8},{dyn_id:"978458893704232965",dyn_type:8},{dyn_id:"978364778091118614",dyn_type:8},{dyn_id:"978364773766791203",dyn_type:8}],J={query:{},tableData:We,showIndex:!0,showSelection:!0,currentPage:1,pageSize:10,height:200,api:"",loading:!1,showOverflowTooltip:!0,colSlots:["dyn_id"],columns:[{prop:"dyn_id",label:"a表头"},{prop:"dyn_type",label:"b表头"}],total:1e3,background:!0,pageSizes:[10,20,30,40,50,100],layout:"total,prev, pager, next,layout,sizes"},Ze=a=>({...J,...a}),mt=()=>({...J}),et={class:"ex-table"},tt={class:"search-comps"},nt={class:"search-btn"},ot={class:"table-container",ref:"tableContainer"},at={key:1},lt={class:"pagination-container"},st=p({name:"ExTable"}),dt=p({...st,props:{modelValue:{type:Object,default:()=>Ze()}},emits:["update:modelValue"],setup(a,{expose:i,emit:d}){const r=L("table"),l=L("pagination");i({table:r,pagination:l});const e=O(a,"modelValue",d);ue(()=>{});const v=f=>{e.value.height=f.height},b=()=>{n(1)},n=async(f,x)=>{if(console.log("output->获取表格数据"),!e.value.loading){e.value.loading=!0,e.value.currentPage=f||e.value.currentPage,e.value.pageSize=x||e.value.pageSize;try{}catch(z){console.log("请求表格数据失败",z)}finally{e.value.loading=!1}}},V=f=>{n(f)},T=f=>{n(1,f)},A=f=>f+1+(e.value.currentPage-1)*e.value.pageSize;return(f,x)=>{const z=X,s=j,g=xe,w=ge,P=ve,D=R("size-ob"),K=be;return B((o(),u("div",et,[F("div",tt,[y(z,{modelValue:c(e).query,"onUpdate:modelValue":x[0]||(x[0]=h=>c(e).query=h)},null,8,["modelValue"])]),F("div",nt,[y(s,{type:"primary",onClick:b},{default:m(()=>x[2]||(x[2]=[S("搜索")])),_:1})]),B((o(),u("div",ot,[y(w,{data:c(e).tableData,ref_key:"table",ref:r,height:c(e).height},{default:m(()=>[y(g,{type:"selection"}),y(g,{type:"index",label:"序号",width:"60",index:A}),(o(!0),u(C,null,$(c(e).columns,(h,Q)=>(o(),E(g,{key:Q,prop:h.prop,label:h.label,"show-overflow-tooltip":c(e).showOverflowTooltip},{default:m(({row:N})=>[c(e).colSlots.includes(h.prop)?H(f.$slots,h.prop,{key:0,row:N},void 0,!0):(o(),u("div",at,M(N[h.prop]),1))]),_:2},1032,["prop","label","show-overflow-tooltip"]))),128))]),_:3},8,["data","height"])])),[[D,v]]),F("div",lt,[y(P,{ref_key:"pagination",ref:l,total:c(e).total,background:c(e).background,layout:c(e).layout,"current-page":c(e).currentPage,"page-size":c(e).pageSize,"onUpdate:pageSize":[x[1]||(x[1]=h=>c(e).pageSize=h),T],"onUpdate:currentPage":V,"page-sizes":c(e).pageSizes},null,8,["total","background","layout","current-page","page-size","page-sizes"])])])),[[K,c(e).loading]])}}}),ut=k(dt,[["__scopeId","data-v-bbee21af"]]);function ft(a){const i=Object.assign({"./ExContextMenu/index.vue":Se,"./ExCreateForm/index.vue":we,"./ExForm/components/ExButtonGroup/index.vue":Pe,"./ExForm/components/ExInput/index.vue":Ie,"./ExForm/components/ExSelect/index.vue":De,"./ExForm/index.vue":Re,"./ExMenu/index.vue":Qe,"./ExTable/index.vue":ut});Object.keys(i).map(d=>{const r=d.split("/"),l=r[r.length-2];a.component(l,i[d])})}export{Qe as _,Se as a,we as b,ut as c,mt as g,ft as s};
//# sourceMappingURL=components.Dso9kqt5.js.map
