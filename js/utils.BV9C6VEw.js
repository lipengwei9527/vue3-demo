var h=Object.defineProperty;var p=(r,e,t)=>e in r?h(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var i=(r,e,t)=>p(r,typeof e!="symbol"?e+"":e,t);import{h as g}from"./vendor-moment.C5S46NFB.js";import{E as b}from"./vendor-@vue.DfildAnf.js";import{u as m,b as o}from"./vendor-vue-router.CT1U6yAt.js";function R(r,e="YYYY-MM-DD"){return g(new Date(r)).format(e)}function S(r){typeof r=="string"&&(r=[r]);const e=b();return e?r.map(n=>(n=n.startsWith("on")?n:"on"+n.charAt(0).toUpperCase()+n.slice(1),{name:n,result:n in(e.vnode.props||{})})):[]}function B(r,e=1e3,t=!1){let n;return function(...s){if(!n){if(!t)return r.apply(this,s);n=setTimeout(()=>{clearTimeout(n),n=void 0,t&&r.apply(this,s)},e)}}}class k{constructor(e=0,t=5,n="0"){i(this,"cur");i(this,"len");i(this,"str");this.cur=e,this.len=t,this.str=n}next(){let e=++this.cur,t=this.len-this.cur.toString().length;return e.toString().padStart(t,this.str)}}const w="/vue3-demo/",y=u(w)+"";class F{constructor(){i(this,"router");i(this,"route");this.router=m(),this.route=o()}navigateTo(e){this.router.push(e)}goBack(){this.router.back()}refresh(){}}class W{constructor(e){i(this,"tabName");i(this,"route");this.tabName=e,this.route=o()}openTab(e){typeof e.path=="string"&&(e.path=u(e.path)),e.path=e.path+A(e.params||{}),e.path=y+e.path,window.open(e.path,this.tabName)}getParams(){return console.log("window.location,csRouter",window.location,this.route),Object.assign(this.route.params,this.route.query)}closeTab(){window.close()}}function A(r){if(!Object.keys(r).length)return"";let e=[],t="";for(const n in r)e.push(`${n}=${r[n]}`);return t=e.join("&"),t&&"?"+t}function u(r){return!r||r=="/"?"":(r.startsWith("/")||(r="/"+r),r.startsWith("/http")&&(r=r.slice(1)),r.endsWith("/")&&(r=r.slice(0,-1)),r)}async function Y(r,e="file"){const t=new FormData;return t.append(e,r),t}function j(r){return new Promise((e,t)=>{const n=r.name.split(".").pop(),s=new FileReader;s.onload=a=>{const c=new Uint8Array(a.target.result).reduce((d,f)=>d+String.fromCharCode(f),""),l=btoa(c);e({state:"success",ext:n,base64:l})},s.onerror=a=>{t({state:"fail",message:a})},s.readAsArrayBuffer(r)})}function O(r){return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>{const s=n.result;e({state:"success",binary:s})},n.onerror=s=>{t({state:"fail",message:s})},n.readAsArrayBuffer(r)})}function T(r){return r.map(t=>({index:t.name,title:t.labelName,isHidden:t.isHidden||!1,children:t.children?T(t.children):[]}))}function v(r){return r.filter(e=>!e.isHidden).map(e=>({index:e.index,title:e.title,isHidden:e.isHidden}))}function M(r,e){let t;return e&&(t=r.find(s=>s.index===e),r=(t==null?void 0:t.children)||[]),r.filter(s=>!s.isHidden).map(s=>({index:s.index,title:s.title,isHidden:s.isHidden,children:s.children?M(s.children):[]}))}export{k as A,F as C,j as a,O as b,R as c,v as d,M as e,Y as f,T as g,S as h,W as i,B as t};
//# sourceMappingURL=utils.BV9C6VEw.js.map
